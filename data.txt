/*
 * This line should be ignored by the parser
 */

// Global messages
messages
    // Fallback
    f_1|I don't understand that!
    f_2|I don't know that word.
    f_3|What?
    f_4|You're confusing!
    // Talk
    t_1|There's nobody in here.
    t_2|There's no one to talk to.
    // Walk
    w_1|Where?
    w_2|May I know which direction?
    // Dummies
    5|Dummy message.
    junk|You are a piece of junk too!
    otherjunk|You are a huge steaming pile of junk, man!
end

// Global actions
actions
    fallback|printr,f_1,f_2,f_3,f_4
    junk|print,junk
    junktest|goto,junk
    talk|printr,t_1,t_2
    walk|printr,w_1,w_2
end

// Global command groups
group junk
    0|cjmp,0,1,3
    1|print,otherjunk
    2|break
    3|set,0,true
    4|print,junk
end

// Scene: initial (called upon start-up)
scene initial
    // Messages
    messages
        0|Welcome to the year 1914, situated in the Philippines, a colony of the United States of America. You are currently standing in front of a branch of the Intercontinental Bank, holding a leather briefcase containing thousands of pesos. You were instructed by your manager to deposit a large sum of money to a private account in another bank. What are you going to do now?%n
        1|You are talking to someone now.
        2|You've picked up a rock.%nA person is approaching you from far away, waving.
        3|You waved back and the person ran towards you.%n"Don't you remember me?" He asked.
        4|"You've got to be kidding!" He answered back, taking something from their pockets.
    end

    // Intro
    group $
        print,0
    end
    
    // Actions
    actions
        look,view,see|goto,view
        //look,view,see|print,0
        talk|print,1
        take rock|print,2
        wave back|print,3
        no|print,4
        dummy|print,5
        random|printr,1,2
        combine|printc,1,2,3,4
        walk north, walk n|scene,north
        
        // Global command group test
        junked|goto,junk
    end

    // Command group: view
    group view
        // conditional jump, switch #, line if true, line if false
        0|cjmp,1,1,3
        1|print,0
        2|break
        3|set,1,true
        4|print,5
    end
end

// Scene: north
scene north
    messages
        nothing|There's nothing here.
        nothing2|THERE IS NOTHING! I REPEAT, THERE IS NOTHING!
    end

    actions
        look,view,see|goto,view
        walk south,walk s|scene,initial
    end

    // Command group: view
    group view
        // conditional jump, switch #, line if true, line if false
        0|cjmp,2,1,3
        1|print,nothing2
        2|break
        3|set,2,true
        4|print,nothing
    end

    // Overriden global command group test: junk
    group junk
        0|print,this is an inline message
        1|print,this message is inline
        2|print,this message is not in the source
        3|print,nothing
        4|print,nothing2
    end
end
